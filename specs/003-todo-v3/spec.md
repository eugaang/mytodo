# TODO App 3.0 Specification

## Overview
TODO 2.0의 기능을 확장하여 더 나은 UX와 시간 기반 일정 관리 기능을 추가한다.

## Features

### F1: 달력 팝업 날짜 선택
**현재 문제**: 과거/미래 날짜로 이동하려면 화살표를 반복 클릭해야 함
**해결책**: 중앙 날짜 영역 클릭 시 달력 팝업 표시

**동작**:
- 날짜 텍스트 클릭 → 달력 팝업 열림
- 달력에서 날짜 선택 → 해당 날짜로 이동, 팝업 닫힘
- 팝업 외부 클릭 → 팝업 닫힘

### F2: 카테고리별 영역 분리
**현재 문제**: 회사/개인 할일이 섞여서 표시됨
**해결책**: 카테고리별로 영역을 분리하여 표시

**표시 순서**:
1. 회사 (work) 섹션 - 상단
2. 개인 (personal) 섹션 - 하단

**UI**:
- 각 섹션에 헤더 표시: "회사", "개인"
- 해당 카테고리에 할일이 없으면 섹션 숨김

### F3: 카테고리별 자동 배치
**동작**: 할일 추가 시 선택한 카테고리의 영역에 자동 배치
- 회사 선택 → 회사 섹션에 추가
- 개인 선택 → 개인 섹션에 추가

### F4: 시간 입력 (옵션)
**새 기능**: 특정 시간에 해야 할 일 지정 가능

**UI**:
- 할일 입력 시 시간 입력 필드 추가 (선택사항)
- 시간 형식: HH:MM (24시간제)
- 시간이 있는 항목은 시간 배지 표시

**정렬**:
- 각 섹션 내에서 시간이 있는 항목이 상단에 표시
- 시간이 있는 항목끼리는 시간 순 정렬 (빠른 시간이 위)
- 시간이 없는 항목은 생성 순서대로 하단에 표시

### F5: 완료 시 상단 이동
**동작**: Done 버튼 클릭 시 해당 항목이 섹션 내 최상단으로 이동
- 완료된 항목들은 각 섹션의 맨 위에 모임
- 완료 취소 시 원래 정렬 위치로 복귀

## Data Model Changes

```typescript
interface Todo {
  id: string;
  content: string;
  completed: boolean;
  category: 'work' | 'personal';
  date: string;      // YYYY-MM-DD
  time?: string;     // HH:MM (optional)
  createdAt: string;
}
```

## API Changes

### POST /api/todos
Request body에 `time` 필드 추가 (optional)

```json
{
  "content": "회의 참석",
  "category": "work",
  "date": "2026-01-30",
  "time": "14:00"
}
```

### PUT /api/todos/:id
`time` 필드 수정 가능

## UI Mockup

```
┌─────────────────────────────────┐
│      < 2026-01-29 (수) >        │  ← 클릭 시 달력 팝업
├─────────────────────────────────┤
│ [입력창] [시간] [카테고리] [+]  │
├─────────────────────────────────┤
│ ── 회사 ─────────────────────── │
│ ✓ 09:00 팀 미팅                │  ← 완료 항목 (상단)
│ □ 14:00 코드 리뷰              │  ← 시간 있음 (중간)
│ □ PR 작성                      │  ← 시간 없음 (하단)
├─────────────────────────────────┤
│ ── 개인 ─────────────────────── │
│ ✓ 운동하기                     │
│ □ 18:30 치과 예약              │
│ □ 책 읽기                      │
└─────────────────────────────────┘
```

## Acceptance Criteria

1. [ ] 날짜 클릭 시 달력 팝업이 열린다
2. [ ] 달력에서 날짜 선택 시 해당 날짜로 이동한다
3. [ ] 회사/개인 영역이 분리되어 표시된다
4. [ ] 할일 추가 시 선택한 카테고리 영역에 배치된다
5. [ ] 시간 입력이 가능하다 (선택사항)
6. [ ] 시간이 있는 항목이 섹션 상단에 시간순 정렬된다
7. [ ] Done 클릭 시 섹션 최상단으로 이동한다
